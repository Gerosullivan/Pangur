{
  "title": "Pangur Ban Tutorial",
  "version": 1,
  "steps": [
    {
      "id": "board-overview",
      "order": 1,
      "title": "Board",
      "highlights": [
        ".board-wrapper"
      ],
      "text": "This is the barn: a 5x5 grid where the entire fight takes place.",
      "instruction": "Select Next to continue.",
      "showNext": true,
      "lockBoard": true
    },
    {
      "id": "incoming-lane",
      "order": 2,
      "title": "Incoming Mice",
      "highlights": [
        "incoming-lane"
      ],
      "text": "Mice in the queue wait outside until both cat and mouse turns resolve.",
      "instruction": "Select Next to continue.",
      "showNext": true,
      "lockBoard": true
    },
    {
      "id": "cell-occupancy",
      "order": 3,
      "title": "Cell Basics",
      "highlights": [
        "board-all-cells"
      ],
      "text": "Cats and mice can be placed on the board, but only one piece fits on any cell.",
      "instruction": "Select Next to continue.",
      "showNext": true,
      "lockBoard": true
    },
    {
      "id": "gate-cells",
      "order": 4,
      "title": "Entrance Squares",
      "highlights": [
        "B5",
        "C5",
        "D5"
      ],
      "text": "Entrance cells are where incoming mice try to enter the barn.",
      "instruction": "Select Next to continue.",
      "showNext": true,
      "lockBoard": true
    },
    {
      "id": "shadow-cells",
      "order": 5,
      "title": "Shadow Squares",
      "highlights": [
        "shadow-cells"
      ],
      "text": "Shadow tiles boost both sides: cats can prime Shadow Strike, and mice that feed here grow stronger.",
      "instruction": "Select Next to continue.",
      "showNext": true,
      "lockBoard": true
    },
    {
      "id": "resident-mice",
      "order": 6,
      "title": "Resident Mice",
      "highlights": [
        "resident-mice"
      ],
      "text": "Several mice already occupy the barn. We need to clear them out.",
      "instruction": "Select Next to continue.",
      "showNext": true,
      "lockBoard": true
    },
    {
      "id": "cats-hand",
      "order": 7,
      "title": "Cats Ready",
      "highlights": [
        "cats-staging"
      ],
      "text": "Your cats are waiting off-board. Place them to begin the defense.",
      "instruction": "Select Next to place them to begin the defense.",
      "showNext": true,
      "lockBoard": true
    },
    {
      "id": "place-pangur",
      "order": 8,
      "title": "Place Pangur",
      "highlights": [
        "pangur",
        "C4"
      ],
      "text": "Bring Pangur onto the barn.",
      "instruction": "Drag Pangur to the highlighted cell.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-place",
          "actorId": "pangur",
          "to": "C4"
        }
      ]
    },
    {
      "id": "pangur-gate",
      "order": 9,
      "title": "Test Meow at Entrance",
      "highlights": [
        "pangur",
        "C5"
      ],
      "text": "Move Pangur to an entrance. His meow can deter incoming mice; filling all entrances with cats scares an entire wave.",
      "instruction": "Drag Pangur to the entrance.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-place",
          "actorId": "pangur",
          "to": "C5"
        }
      ]
    },
    {
      "id": "pangur-return",
      "order": 10,
      "title": "Reset Pangur",
      "highlights": [
        "pangur",
        "C4"
      ],
      "text": "Note: 1 mouse is deterred due to Pangur's Meow attribute.",
      "instruction": "Drag Pangur back to the highlighted cell to continue setup.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-place",
          "actorId": "pangur",
          "from": "C5",
          "to": "C4"
        }
      ]
    },
    {
      "id": "place-baircne",
      "order": 11,
      "title": "Place Baircne",
      "highlights": [
        "baircne",
        "B2"
      ],
      "text": "Bring Baircne into the barn.",
      "instruction": "Drag Baircne to the highlighted cell.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-place",
          "actorId": "baircne",
          "to": "B2"
        }
      ]
    },
    {
      "id": "place-guardian",
      "order": 12,
      "title": "Place Guardian",
      "highlights": [
        "guardian",
        "B3"
      ],
      "text": "Place the Guardian cat on the board.",
      "instruction": "Drag Guardian to the highlighted cell.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-place",
          "actorId": "guardian",
          "to": "B3"
        }
      ]
    },
    {
      "id": "confirm-formation",
      "order": 13,
      "title": "Confirm Formation",
      "highlights": [
        "button:Confirm Formation"
      ],
      "text": "Rearrange freely until ready, then lock in your formation.",
      "instruction": "Select Confirm Formation.",
      "showNext": false,
      "completeOn": [
        {
          "action": "confirm-formation"
        }
      ]
    },
    {
      "id": "selection-basics",
      "order": 14,
      "title": "Selecting Cats",
      "highlights": [
        "cats-on-board"
      ],
      "text": "Selecting a cat highlights green move targets and red attack targets. Cats move any distance in straight lines\u2014horizontal, vertical, or diagonal\u2014until blocked.",
      "instruction": "Select Next to continue.",
      "showNext": true,
      "lockBoard": true
    },
    {
      "id": "turn-sequence",
      "order": 15,
      "title": "Turn Order",
      "highlights": [
        ".top-bar-metric"
      ],
      "text": "Cats act first, then resident mice, then incoming mice enter from the gates.",
      "instruction": "Select Next to continue.",
      "showNext": true,
      "lockBoard": true
    },
    {
      "id": "pangur-clears-gate-mouse",
      "order": 16,
      "title": "Attack the Entrance Mouse",
      "highlights": [
        "pangur",
        "mouse-6",
        "B5"
      ],
      "text": "Spend Pangur's catch to remove the entrance mouse.",
      "instruction": "Make sure Pangur is selected, then select the mouse to attack.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "pangur",
          "targetId": "mouse-6"
        }
      ]
    },
    {
      "id": "pangur-clears-b4",
      "order": 17,
      "title": "Sweep the Shadow Mouse",
      "highlights": [
        "pangur",
        "mouse-5",
        "B4"
      ],
      "text": "Use Pangur's remaining catch to clear the shadow mouse. Notice how Pangur's attack value is reduced.",
      "instruction": "Attack the shadow mouse.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "pangur",
          "targetId": "mouse-5"
        }
      ]
    },
    {
      "id": "baircne-strike-1",
      "order": 18,
      "title": "Chip the Big Mouse",
      "highlights": [
        "baircne",
        "mouse-3",
        "A3"
      ],
      "text": "Bigger mice retaliate. Start chipping the 3/3 mouse.",
      "instruction": "Attack the 3/3 mouse once.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "baircne",
          "targetId": "mouse-3",
          "count": 1
        }
      ]
    },
    {
      "id": "baircne-strike-2",
      "order": 19,
      "title": "Chip Again",
      "highlights": [
        "baircne",
        "mouse-3",
        "A3"
      ],
      "text": "Spend another catch to drop the mouse to 1 heart. Notice: the cat has no more attack points left.",
      "instruction": "Attack the 3/3 mouse again.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "baircne",
          "targetId": "mouse-3",
          "count": 2
        }
      ]
    },
    {
      "id": "guardian-finisher",
      "order": 20,
      "title": "Finish the Big Mouse",
      "highlights": [
        "guardian",
        "mouse-3",
        "A3"
      ],
      "text": "Finish the wounded mouse; killing heals the cat by 1.",
      "instruction": "Deliver the killing blow.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "guardian",
          "targetId": "mouse-3"
        }
      ]
    },
    {
      "id": "guardian-to-gate",
      "order": 21,
      "title": "Stack Meow at the Entrance",
      "highlights": [
        "guardian",
        "B5"
      ],
      "text": "Move Guardian onto the entrance to add meow and deter the next wave.",
      "instruction": "Move Guardian to the entrance.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-move",
          "actorId": "guardian",
          "to": "B5"
        }
      ]
    },
    {
      "id": "pangur-reposition-c2",
      "order": 22,
      "title": "Position Pangur for Baircne",
      "highlights": [
        "pangur",
        "C2",
        "baircne"
      ],
      "text": "Move Pangur adjacent to Baircne so his shield passive boosts Baircne's catch.",
      "instruction": "Move Pangur to the highlighted cell.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-move",
          "actorId": "pangur",
          "to": "C2"
        }
      ]
    },
    {
      "id": "baircne-clears-c1",
      "order": 23,
      "title": "Clean Up the Corner Mouse",
      "highlights": [
        "baircne",
        "mouse-1",
        "C1"
      ],
      "text": "Use the boosted catch to finish the corner mouse.",
      "instruction": "Attack the corner mouse.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "baircne",
          "targetId": "mouse-1"
        }
      ]
    },
    {
      "id": "baircne-shadow-parking",
      "order": 24,
      "title": "Park on Shadow",
      "highlights": [
        "baircne",
        "E5"
      ],
      "text": "Move Baircne onto a shadow tile to prime Shadow Strike for next turn.",
      "instruction": "Move Baircne to the highlighted shadow cell.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-move",
          "actorId": "baircne",
          "to": "E5"
        }
      ]
    },
    {
      "id": "pangur-double-move",
      "order": 25,
      "title": "Show Pangur's Double Move",
      "highlights": [
        "pangur",
        "E2"
      ],
      "text": "Pangur can move twice per turn. Reposition him toward the remaining threats.",
      "instruction": "Move Pangur to the highlighted cell.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-move",
          "actorId": "pangur",
          "to": "E2"
        }
      ]
    },
    {
      "id": "pangur-stun-e1",
      "order": 26,
      "title": "Stun the Strong Mouse",
      "highlights": [
        "pangur",
        "mouse-2",
        "E1"
      ],
      "text": "Attack the 2/2 mouse to stun it; stunned mice cannot grow this turn.",
      "instruction": "Attack the 2/2 mouse.",
      "showNext": false,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "pangur",
          "targetId": "mouse-2",
          "count": 1
        }
      ]
    },
    {
      "id": "end-cat-phase",
      "order": 27,
      "title": "Cats End Turn",
      "highlights": [
        "button:End Turn"
      ],
      "text": "Once all cats have acted, end the cat phase. Next, mice take their turn: they move or attack first, then feed (shadow mice grow), then new mice enter.",
      "instruction": "Select End Turn.",
      "showNext": false,
      "completeOn": [
        {
          "action": "end-cat-phase",
          "count": 1
        }
      ]
    },
    {
      "id": "mouse-attacks",
      "order": 28,
      "title": "Mouse Retaliation",
      "highlights": [
        "mouse-4",
        "pangur"
      ],
      "text": "During the mouse turn, adjacent mice attack before moving. Pangur takes two hits from the 3/3 mouse.",
      "instruction": "Advance the stepper to resolve the attacks.",
      "showNext": false,
      "completeOn": [
        {
          "action": "mouse-attack",
          "targetId": "pangur",
          "count": 2
        }
      ]
    },
    {
      "id": "mouse-feed-upgrade",
      "order": 29,
      "title": "Mice Feed and Grow",
      "highlights": [
        "mouse-7",
        "mouse-4",
        "shadow-cells"
      ],
      "text": "Feeding adds grain loss and upgrades mice on shadow tiles. Shadow placement matters for their growth.",
      "instruction": "Advance to finish feeding.",
      "showNext": false,
      "completeOn": [
        {
          "action": "mouse-feed",
          "count": 1
        }
      ]
    },
    {
      "id": "incoming-summary",
      "order": 30,
      "title": "Incoming Wave Preview",
      "highlights": [
        "incoming-lane"
      ],
      "text": "Meow from entrance cats scares part of the wave. Scared mice leave the queue; the rest will try to enter.",
      "instruction": "Advance the stepper.",
      "showNext": false,
      "completeOn": [
        {
          "action": "incoming-summary",
          "count": 1
        }
      ]
    },
    {
      "id": "incoming-placement",
      "order": 31,
      "title": "Incoming Placement",
      "highlights": [
        "gate-line"
      ],
      "text": "Entering mice append to existing mouse lines if paths are open. Entrance cats block entry on their cells.",
      "instruction": "Advance to place incoming mice.",
      "showNext": false,
      "completeOn": [
        {
          "action": "incoming-place",
          "count": 3
        }
      ]
    },
    {
      "id": "next-cat-turn",
      "order": 32,
      "title": "Next Cat Turn",
      "highlights": [
        "cats-on-board"
      ],
      "text": "Once placement finishes, the next cat turn begins. Rearrange, attack, or hold entrances as needed.",
      "instruction": "Proceed with cat actions.",
      "showNext": true,
      "lockBoard": true,
      "completeOn": [
        {
          "action": "incoming-finish",
          "count": 1
        }
      ]
    },
    {
      "id": "turn2-baircne-picks-off",
      "order": 33,
      "title": "Pick Off Entrance Mice",
      "highlights": [
        "baircne",
        "mouse-7",
        "D5"
      ],
      "text": "Use Baircne to remove entrance threats and reposition toward shadows.",
      "instruction": "Attack and move as shown.",
      "showNext": true,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "baircne",
          "targetId": "mouse-7"
        },
        {
          "action": "cat-move",
          "actorId": "baircne",
          "to": "E4"
        }
      ]
    },
    {
      "id": "turn2-chip-boss",
      "order": 34,
      "title": "Chip the 4/4 Mouse",
      "highlights": [
        "baircne",
        "pangur",
        "mouse-4",
        "E3"
      ],
      "text": "Work together to grind down the upgraded mouse on the shadow tile.",
      "instruction": "Attack in sequence to finish it.",
      "showNext": true,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "baircne",
          "targetId": "mouse-4",
          "count": 2
        },
        {
          "action": "cat-attack",
          "actorId": "pangur",
          "targetId": "mouse-4",
          "count": 2
        }
      ]
    },
    {
      "id": "turn2-cleanup",
      "order": 35,
      "title": "Clean Remaining Threats",
      "highlights": [
        "pangur",
        "mouse-2",
        "E1",
        "A2"
      ],
      "text": "Finish the 2/2 mouse and reposition Pangur across the board for future turns.",
      "instruction": "Attack, then move to cover another lane.",
      "showNext": true,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "pangur",
          "targetId": "mouse-2",
          "count": 3
        },
        {
          "action": "cat-move",
          "actorId": "pangur",
          "to": "A2"
        }
      ]
    },
    {
      "id": "turn2-guardian-finish",
      "order": 36,
      "title": "Guardian Cleanup",
      "highlights": [
        "guardian",
        "mouse-10",
        "B4"
      ],
      "text": "Guardian removes the last resident from this wave.",
      "instruction": "Attack the remaining mouse.",
      "showNext": true,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "guardian",
          "targetId": "mouse-10"
        }
      ]
    },
    {
      "id": "turn2-end-and-mice",
      "order": 37,
      "title": "End Turn, Resolve Mice",
      "highlights": [
        "button:End Turn"
      ],
      "text": "Finish the cat phase; remaining mice feed and incoming placements repeat.",
      "instruction": "Advance through mouse feeding and incoming placement.",
      "showNext": false,
      "completeOn": [
        {
          "action": "end-cat-phase",
          "count": 2
        },
        {
          "action": "incoming-finish",
          "count": 2
        }
      ]
    },
    {
      "id": "turn3-clean-slate",
      "order": 38,
      "title": "New Wave, Same Plan",
      "highlights": [
        "cats-on-board",
        "incoming-lane"
      ],
      "text": "With new entrants on the board, repeat the pattern: pick priority targets, hold gates, and park on shadows.",
      "instruction": "Proceed with cat actions.",
      "showNext": true,
      "completeOn": [
        {
          "action": "cat-attack",
          "actorId": "guardian",
          "targetId": "mouse-9"
        },
        {
          "action": "cat-move",
          "actorId": "pangur",
          "to": "C4"
        },
        {
          "action": "cat-attack",
          "actorId": "baircne",
          "targetId": "mouse-12"
        },
        {
          "action": "cat-attack",
          "actorId": "baircne",
          "targetId": "mouse-11"
        },
        {
          "action": "cat-move",
          "actorId": "baircne",
          "to": "D5"
        },
        {
          "action": "cat-attack",
          "actorId": "pangur",
          "targetId": "mouse-13"
        },
        {
          "action": "cat-attack",
          "actorId": "pangur",
          "targetId": "mouse-8"
        },
        {
          "action": "cat-move",
          "actorId": "pangur",
          "to": "C5"
        }
      ]
    },
    {
      "id": "incoming-scare-win",
      "order": 39,
      "title": "Full Deterrence",
      "highlights": [
        "incoming-lane"
      ],
      "text": "Six meow on entrances scares the entire wave; no mice enter when meowge meets the wave size.",
      "instruction": "Advance through the incoming summary.",
      "showNext": false,
      "completeOn": [
        {
          "action": "end-cat-phase",
          "count": 3
        },
        {
          "action": "incoming-finish",
          "count": 3
        }
      ]
    },
    {
      "id": "win-condition",
      "order": 40,
      "title": "Win the Game",
      "highlights": [
        "board-wrapper"
      ],
      "text": "Cats win when all resident mice are gone and the incoming queue is fully deterred. Keep entrances covered to seal the victory.",
      "instruction": "Finish deterring or defeating all mice.",
      "showNext": true
    }
  ]
}
